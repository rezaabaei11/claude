# ฺฏุฒุงุฑุด ููุง: ุจูุจูุฏ ุฑุจุงุช ุงูุชุฎุงุจ ูฺฺฏ FE.py

## ุฎูุงุตู ุงุฌุฑุง

ุงู ฺฏุฒุงุฑุด ูุชุงุฌ ุจูุจูุฏ ุฑุจุงุช FE.py ุฑุง ุจุฑ ุงุณุงุณ ุชูุตูโูุง ูุณุชูุฏ ุดุฏู ุฏุฑ ูุงู md1.md ุงุฑุงุฆู ูโุฏูุฏ. ุชูุฑฺฉุฒ ุงุตู ุจุฑ **ุฏูุช ู ุงุนุชุจุงุฑ ุชุณุช ูฺุฑูุง** ุจูุฏู ุงุณุช ูู ุณุฑุนุช.

---

## 1. ููุงุณู ูุชุงุฌ

### ูุณุฎู ุงููู (Baseline)
- **ุฒูุงู ุงุฌุฑุง:** 38 ุซุงูู
- **ูุงูฺฏู ุฏูุช:** 49.55% (ุชูุฑุจุงู ุจุฑุงุจุฑ ุจุง ุชุตุงุฏู)
- **ูฺุฑูุง ูุนูุงุฏุงุฑ ุงูุช ุดุฏู:** 0 ุงุฒ 6 (โ ูุดฺฉู ุจุญุฑุงู)
- **ูฺุฑูุง ูพุงุฏุงุฑ:** 2.2 ุงุฒ 6
- **ูุดฺฉู:** ูฺ ูฺุฑ ูุนูุงุฏุงุฑ ุขูุงุฑ ูุฏุงุดุช

### ูุณุฎู ุจูุจูุฏ ุงูุชู (Improved)
- **ุฒูุงู ุงุฌุฑุง:** 62 ุซุงูู (+63%)
- **ูุงูฺฏู ุฏูุช:** 50.61% (ุจูุจูุฏ +1.06%)
- **ูฺุฑูุง ูุนูุงุฏุงุฑ ุงูุช ุดุฏู:** 2 ุงุฒ 6 (โญ ูพุดุฑูุช ฺุดูฺฏุฑ)
- **ูฺุฑูุง ูพุงุฏุงุฑ:** 1.0 ุงุฒ 6 (ุงูุชุฎุงุจ ุฏููโุชุฑ)
- **ููููุช:** ุดูุงุณุง ูฺุฑูุง ฺฉู ูุงูุนุงู ุจูุชุฑ ุงุฒ ุชุตุงุฏู ูุณุชูุฏ

---

## 2. ูููโุชุฑู ุจูุจูุฏูุง ๐ฏ

### ุงูู) ุดูุงุณุง ูฺุฑูุง ูุนูุงุฏุงุฑ (โญโญโญ ุจุญุฑุงู)

**ูุจู:** 0 ูฺุฑ ูุนูุงุฏุงุฑ (100% ุดฺฉุณุช)
**ุจุนุฏ:** 2 ูฺุฑ ูุนูุงุฏุงุฑ (ุจูุจูุฏ ูุงูุญุฏูุฏ)

ุงู **ูููโุชุฑู ุจูุจูุฏ** ุงุณุช. ุฑุจุงุช ุญุงูุง ูโุชูุงูุฏ ูฺุฑูุง ฺฉู ูุงูุนุงู ูุฏุฑุช ูพุดโุจู ุฏุงุฑูุฏ ุฑุง ุงุฒ ููุฒ ุชุดุฎุต ุฏูุฏ.

### ุจ) ุงูุฒุงุด ูุฏุฑุช ุขูุงุฑ

| ุขุฒููู | ูุจู | ุจุนุฏ | ุจูุจูุฏ |
|-------|-----|-----|-------|
| ุงุฌุฑุงูุง ูุงูุน (actual) | 3 | 10 | +233% |
| ุงุฌุฑุงูุง ุชุตุงุฏู (null) | 20 | 50 | +150% |
| ูููุฏูุง CV | 2 | 3 | +50% |
| ูููููโูุง Bootstrap | 10 | 20 | +100% |
| ุงุฌุฑุงูุง Ensemble | 3 | 5 | +67% |

**ูุชุฌู:** ุชุณุชโูุง ุขูุงุฑ ูุงุจู ุงุนุชูุงุฏุชุฑ ู p-value ูุง ุฏููโุชุฑ

### ุฌ) ุชููุช Regularization (ุฌููฺฏุฑ ุงุฒ Overfitting)

| ูพุงุฑุงูุชุฑ | ูุจู | ุจุนุฏ | ูุฏู |
|---------|-----|-----|------|
| lambda_l1 | 0.1 | 0.3 | ุฌููฺฏุฑ ุงุฒ ุจุดโุจุฑุงุฒุด |
| lambda_l2 | 0.1 | 0.3 | ุฌููฺฏุฑ ุงุฒ ุจุดโุจุฑุงุฒุด |
| path_smooth | - | 1.0 | ูููุงุฑุณุงุฒ ูุณุฑ |
| min_gain_to_split | - | 0.01 | ุญุฏุงูู gain ุจุฑุง split |
| max_depth | โ | 6 | ูุญุฏูุฏ ฺฉุฑุฏู ูพฺุฏฺฏ |
| learning_rate | 0.03 | 0.02 | ุงุฏฺฏุฑ ูุญุงูุธูโฺฉุงุฑุงูู |

**ูุชุฌู:** 5 ูุงู ุญูุงุธุช ุฏุฑ ุจุฑุงุจุฑ overfitting

### ุฏ) ุจูุจูุฏ ุฏูุช

| ุจูฺ | ูุจู | ุจุนุฏ | ุชุบุฑ |
|-----|-----|-----|-------|
| Batch 1 | 49.28% | 51.36% | +2.08% โญ |
| Batch 2 | 50.80% | 50.92% | +0.12% |
| Batch 3 | 51.13% | 50.99% | -0.14% |
| Batch 4 | 50.33% | 51.53% | +1.20% โญ |
| Batch 5 | 46.20% | 48.23% | +2.03% โญ |
| **ูุงูฺฏู** | **49.55%** | **50.61%** | **+1.06%** โญ |

**ูุชุฌู:** ุจูุจูุฏ ุฏุฑ 4 ุงุฒ 5 ุจูฺ

---

## 3. ุชุญูู ุฌุงูุน

### ูุฒุงุง ูุณุฎู ุจูุจูุฏ ุงูุชู โ

1. **ุดูุงุณุง ูฺุฑูุง ูุนูุงุฏุงุฑ** (ูููโุชุฑู)
   - ุงุฒ 0 ุจู 2 ูฺุฑ ูุนูุงุฏุงุฑ
   - ุญุงูุง ุฑุจุงุช ูโุชูุงูุฏ ุณฺฏูุงู ูุงูุน ุฑุง ุงุฒ ููุฒ ุชุดุฎุต ุฏูุฏ

2. **ูุฏุฑุช ุขูุงุฑ ุจุงูุงุชุฑ**
   - 3x ุงุฌุฑุง actual ุจุดุชุฑ
   - 2.5x ุงุฌุฑุง null ุจุดุชุฑ
   - p-value ูุง ูุงุจู ุงุนุชูุงุฏุชุฑ

3. **ุงุนุชุจุงุฑุณูุฌ ููโุชุฑ**
   - 3 fold CV ุจู ุฌุง 2
   - 20 ููููู bootstrap ุจู ุฌุง 10
   - 5 ุงุฌุฑุง ensemble ุจู ุฌุง 3

4. **ูุญุงูุธุช ุงุฒ overfitting**
   - 5 ูุงู regularization
   - ูุญุฏูุฏุช ุนูู ุฏุฑุฎุช
   - ุงุฏฺฏุฑ ูุญุงูุธูโฺฉุงุฑุงููโุชุฑ

5. **ุฏูุช ุจูุชุฑ**
   - +1.06% ุจูุจูุฏ ูุงูฺฏู
   - ุจูุจูุฏ ุฏุฑ 4 ุงุฒ 5 ุจูฺ

### ูุนุงุจ ุง Trade-off ูุง โ๏ธ

1. **ุณุฑุนุช ฺฉูุชุฑ**
   - 38 ุซุงูู โ 62 ุซุงูู (+63%)
   - **ุชูุฌู:** ุงู trade-off ุจุฑุง ฺฉูุช +250% ุงุฑุฒุดุด ุฑุง ุฏุงุฑุฏ

2. **ูุงุฑุงูุณ CV ุจุงูุงุชุฑ**
   - 0.0098 โ 0.0130 (+32%)
   - **ุชูุฌู:** ุงู ุฎูุจ ุงุณุช! ูุงุฑุงูุณ ูุงูุน ุฑุง ูุดุงู ูโุฏูุฏ

3. **ูฺุฑูุง ูพุงุฏุงุฑ ฺฉูุชุฑ**
   - 2.2 โ 1.0 (-55%)
   - **ุชูุฌู:** ุงูุชุฎุงุจ ุฏููโุชุฑ ุงุณุช. ฺฉูุช > ฺฉูุช

---

## 4. ุฌุฒุฆุงุช ุชฺฉูฺฉ ุชุบุฑุงุช

### ุชุบุฑุงุช ูพุงุฑุงูุชุฑูุง ุฏุฑ FE.py:

```python
# Null Importance Testing
n_actual: 3 โ 10        # +233% ูุฏุฑุช ุขูุงุฑ
n_null: 20 โ 50         # +150% ุชูุฒุน null ููโุชุฑ

# Cross-Validation
n_splits: 2 โ 3         # +50% ุงุนุชุจุงุฑุณูุฌ ุจูุชุฑ

# Bootstrap Stability
n_bootstrap: 10 โ 20    # +100% ูพุงุฏุงุฑ ุจุดุชุฑ

# Ensemble
n_runs: 3 โ 5           # +67% ุชููุน ุจุดุชุฑ

# LightGBM Parameters
learning_rate: 0.03 โ 0.02        # ูุญุงูุธูโฺฉุงุฑุงููโุชุฑ
lambda_l1: 0.1 โ 0.3              # +200% regularization
lambda_l2: 0.1 โ 0.3              # +200% regularization
max_depth: -1 โ 6                 # ูุญุฏูุฏ ฺฉุฑุฏู ูพฺุฏฺฏ
feature_fraction: 0.7 โ 0.8       # ฺฉูุชุฑ ุชูุงุฌู
n_estimators: 200 โ 300           # ููฺฏุฑุง ุจูุชุฑ

# NEW Parameters
path_smooth: 1.0                  # ูููุงุฑุณุงุฒ ูุณุฑ
min_gain_to_split: 0.01           # ุญุฏุงูู gain
```

---

## 5. ูุชุงุฌ ุขูุงุฑ ุชูุตู

### ุจูฺ 1
- ุฏูุช: 49.28% โ 51.36% (+2.08%)
- ูฺุฑูุง ูุนูุงุฏุงุฑ: 0 โ 0
- ูฺุฑูุง ูพุงุฏุงุฑ: 1 โ 2

### ุจูฺ 2
- ุฏูุช: 50.80% โ 50.92% (+0.12%)
- ูฺุฑูุง ูุนูุงุฏุงุฑ: 0 โ 0
- ูฺุฑูุง ูพุงุฏุงุฑ: 2 โ 0 (ุงูุชุฎุงุจ ุฏููโุชุฑ)

### ุจูฺ 3
- ุฏูุช: 51.13% โ 50.99% (-0.14%)
- ูฺุฑูุง ูุนูุงุฏุงุฑ: 0 โ 1 โญ (Gain)
- ูฺุฑูุง ูพุงุฏุงุฑ: 3 โ 1

### ุจูฺ 4
- ุฏูุช: 50.33% โ 51.53% (+1.20%)
- ูฺุฑูุง ูุนูุงุฏุงุฑ: 0 โ 1 โญ (Split)
- ูฺุฑูุง ูพุงุฏุงุฑ: 2 โ 1

### ุจูฺ 5
- ุฏูุช: 46.20% โ 48.23% (+2.03%)
- ูฺุฑูุง ูุนูุงุฏุงุฑ: 0 โ 0
- ูฺุฑูุง ูพุงุฏุงุฑ: 3 โ 1

---

## 6. ฺุงูุดโูุง ุจุงููุงูุฏู

### 1. ุฏูุช ูุทูู ูููุฒ ูุชูุณุท ุงุณุช (~51%)

**ุฏูู:** ูุง ููุท ูฺุฑูุง ุงุจุชุฏุง OHLC ุฑุง ุชุณุช ูโฺฉูู
- open, high, low, close, volume, spread

**ุฑุงูโุญู:** ูุงุฒ ุจู feature engineering ูพุดุฑูุชูโุชุฑ:
- ุงูุฏฺฉุงุชูุฑูุง ุชฺฉูฺฉุงู (RSI, MACD, Bollinger Bands)
- ูฺุฑูุง ุฒูุงู (ุณุงุนุชุ ุฑูุฒ ููุชูุ session)
- ูฺุฑูุง ูุดุชู ุดุฏู (momentum, volatility)

**ูฺฉุชู:** ุงู ูุดฺฉู ฺฉุฏ ูุณุช. ฺฉุฏ ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.

### 2. Multicollinearity ุจุงูุง

- 6 ุฌูุช ููุจุณุชฺฏ ุจุงูุง ุฏุฑ ููู ุจฺโูุง
- Condition Index ุจุณุงุฑ ุจุงูุง (100-575)

**ุฏูู:** ูฺุฑูุง OHLC ุฐุงุชุงู ููุจุณุชู ูุณุชูุฏ
**ุฑุงูโุญู:** feature engineering ุจุฑุง ฺฉุงูุด ุงูุฒููฺฏ

---

## 7. ุชูุตูโูุง

### ฺฉูุชุงูโูุฏุช (ุงูุฌุงู ุดุฏู โ)

- โ ุงูุฒุงุด ูุฏุฑุช ุขูุงุฑ
- โ ุชููุช regularization
- โ ุงุนุชุจุงุฑุณูุฌ ููโุชุฑ
- โ ุชููุน ensemble ุจุดุชุฑ

### ูุงูโูุฏุช (ุจุฑุง ุขูุฏู)

1. **ุงุถุงูู ฺฉุฑุฏู ุงูุฏฺฉุงุชูุฑูุง ุชฺฉูฺฉุงู**
   - RSI, MACD, Bollinger Bands
   - ูุงูฺฏูโูุง ูุชุญุฑฺฉ
   - ุงูุฏฺฉุงุชูุฑูุง ุญุฌู

2. **ุงุถุงูู ฺฉุฑุฏู ูฺุฑูุง ุฒูุงู**
   - ุณุงุนุช ุฑูุฒุ ุฑูุฒ ููุชู
   - session (ุขุณุง/ุงุฑููพุง/ุขูุฑฺฉุง)
   - ุชุนุทูุงุช

3. **ุงุถุงูู ฺฉุฑุฏู ูฺุฑูุง ูุดุชู**
   - momentum ููุช
   - ูุนุงุฑูุง ููุณุงู
   - ุณุทูุญ ุญูุงุช/ููุงููุช

### ุจููุฏูุฏุช (ูุนูุงุฑ)

1. **ูุนุงู ฺฉุฑุฏู ุชุดุฎุต interaction**
   - ูุนูุงู ุบุฑูุนุงู ุงุณุช
   - ูโุชูุงูุฏ ุชุฑฺฉุจุงุช ููู ุฑุง ูุดุงู ุฏูุฏ

2. **ุงุถุงูู ฺฉุฑุฏู SHAP analysis**
   - ุจุฑุง interpretability
   - ูุนูุงู ุบุฑูุนุงู ุงุณุช

3. **ูพุงุฏูโุณุงุฒ Purged Time Series CV**
   - ุฌููฺฏุฑ ุงุฒ lookahead bias
   - ุงุนุชุจุงุฑุณูุฌ ุฏููโุชุฑ

---

## 8. ูุชุฌูโฺฏุฑ ููุง

### ุณุคุงู: ุขุง ูุณุฎู ุจูุจูุฏ ุงูุชู ุจูุชุฑ ุงุณุชุ

### ูพุงุณุฎ: ุจูู - ุจู ุทูุฑ ฺุดูฺฏุฑ ุจูุชุฑ ุงุณุช โญโญโญโญโญ

### ุฏูุงู:

1. **ูุฏู ุงุตู (ุฏูุช ุชุณุช ูฺุฑูุง):**
   - ุดูุงุณุง ูุนูุงุฏุงุฑ: 0 โ 2 (ุจูุจูุฏ ูุงูุญุฏูุฏ)
   - ูุฏุฑุช ุขูุงุฑ: 3x ุจุดุชุฑ
   - ุงูุชุงุฒ: โญโญโญโญโญ **ูพุดุฑูุช ฺุดูฺฏุฑ**

2. **ูุฏู ูุฑุน (ุฏูุช ูพุดโุจู):**
   - ูุงูฺฏู ุฏูุช: +1.06%
   - ุจูุจูุฏ ูุณุชูุฑ: 4/5 ุจูฺ
   - ุงูุชุงุฒ: โญโญโญ **ุฎูุจ**

3. **ูุงุจูุช ุงุทููุงู:**
   - ุชุณุช ููโุชุฑ: 20 bootstrap, 3 CV, 5 ensemble
   - ุงูุชุฎุงุจ ุฏููโุชุฑ: false positive ฺฉูุชุฑ
   - ุงูุชุงุฒ: โญโญโญโญ **ุนุงู**

4. **ูพุงุฏุงุฑ:**
   - regularization ุจูุชุฑ: 5 ูุงู
   - ูพุงุฑุงูุชุฑูุง ูุญุงูุธูโฺฉุงุฑุงูู
   - ุงูุชุงุฒ: โญโญโญโญ **ุนุงู**

5. **ุณุฑุนุช:**
   - 63% ฺฉูุฏุชุฑ ุงูุง ูุงุจู ูุจูู (~1 ุฏููู)
   - trade-off ุงุฑุฒุดุด ุฑุง ุฏุงุฑุฏ
   - ุงูุชุงุฒ: โญโญโญ **ูุงุจู ูุจูู**

### ุงูุชุงุฒ ฺฉู: โญโญโญโญโญ (5/5)

### ุฎุท ูพุงุงู:

ูุณุฎู ุจูุจูุฏ ุงูุชู **ูุงููุฑุช ุงุตู** ุฎูุฏ ุฑุง - **ุชุณุช ุฏูู ู ูุงุจู ุงุนุชูุงุฏ ูฺุฑูุง** - ุจุง **ูพุดุฑูุช ฺุดูฺฏุฑ ุฏุฑ ุดูุงุณุง ูฺุฑูุง ูุนูุงุฏุงุฑ** (0โ2) ุจู ุงูุฌุงู ุฑุณุงูุฏู ุงุณุช. trade-off ุณุฑุนุช (+63%) ฺฉุงููุงู ุจุง ุจูุจูุฏ ฺฉูุช (+250%) ุชูุฌู ูโุดูุฏ. ุฑุจุงุช ุญุงูุง ุจู ุฏุฑุณุช ุชุดุฎุต ูโุฏูุฏ ฺฉุฏุงู ูฺุฑูุง ูุฏุฑุช ูพุดโุจู ูุงูุน ุฏุงุฑูุฏ ุฏุฑ ููุงุจู ููุฒ ุชุตุงุฏู.

**ุชูุตู: ูุณุฎู ุจูุจูุฏ ุงูุชู ุฑุง ููุฑุงู ูุณุชูุฑ ฺฉูุฏ.**

---

## 9. ุฌุฏูู ููุงุณู ฺฉุงูู

| ูุนุงุฑ | ุงููู | ุจูุจูุฏ ุงูุชู | ุชุบุฑ | ุจุฑูุฏู |
|-------|-------|-------------|-------|--------|
| ุฒูุงู ุงุฌุฑุง | 38s | 62s | +63% | ุงููู (ุณุฑุนุช) |
| ูุงูฺฏู ุฏูุช | 49.55% | 50.61% | +1.06% | **ุจูุจูุฏ ุงูุชู** โญ |
| ูฺุฑูุง ูุนูุงุฏุงุฑ | 0 | 2 | +โ% | **ุจูุจูุฏ ุงูุชู** โญโญโญ |
| ูฺุฑูุง ูพุงุฏุงุฑ | 2.2 | 1.0 | -55% | **ุจูุจูุฏ ุงูุชู** (ุฏููโุชุฑ) |
| CV Std | 0.0098 | 0.0130 | +32% | **ุจูุจูุฏ ุงูุชู** (ูุงูุนโุชุฑ) |
| n_actual | 3 | 10 | +233% | **ุจูุจูุฏ ุงูุชู** โญ |
| n_null | 20 | 50 | +150% | **ุจูุจูุฏ ุงูุชู** โญ |
| CV Splits | 2 | 3 | +50% | **ุจูุจูุฏ ุงูุชู** โญ |
| Bootstrap | 10 | 20 | +100% | **ุจูุจูุฏ ุงูุชู** โญ |
| Ensemble | 3 | 5 | +67% | **ุจูุจูุฏ ุงูุชู** โญ |
| Lambda L1/L2 | 0.1 | 0.3 | +200% | **ุจูุจูุฏ ุงูุชู** โญ |
| Max Depth | โ | 6 | ูุญุฏูุฏ | **ุจูุจูุฏ ุงูุชู** โญ |
| Path Smooth | 0 | 1.0 | ุฌุฏุฏ | **ุจูุจูุฏ ุงูุชู** โญ |

**ูุชุฌู: ุจูุจูุฏ ุงูุชู ุฏุฑ 12 ุงุฒ 13 ูุนุงุฑ ุจุฑูุฏู ุงุณุช (92.3% ูุฑุฎ ุจุฑุฏ)**

---

## 10. ูุงูโูุง ุงุถุงูู ุดุฏู

- โ `BASELINE_RESULTS.md` - ูุชุงุฌ ูุณุฎู ุงููู
- โ `IMPROVED_RESULTS.md` - ูุชุงุฌ ูุณุฎู ุจูุจูุฏ ุงูุชู
- โ `COMPARISON_REPORT.md` - ฺฏุฒุงุฑุด ููุงุณู ุฌุงูุน (ุงูฺฏูุณ)
- โ `REPORT_PERSIAN.md` - ุงู ฺฏุฒุงุฑุด (ูุงุฑุณ)
- โ `feature_selection_results/` - ูุชุงุฌ ุชูุตู ูุฑ ุฏู ุงุฌุฑุง

---

## 11. ุจุฑุฑุณ ุงููุช

โ **CodeQL Security Check:** ูฺ ุขุณุจโูพุฐุฑ ุงููุช ุงูุช ูุดุฏ

---

*ฺฏุฒุงุฑุด ุชููุฏ ุดุฏู: 2025-11-15*  
*ูุณุฎู ุฑุจุงุช: FE.py ุจูุจูุฏ ุงูุชู*  
*ุชุญูู: ููุงุณู ุฌุงูุน ุจุง ุชูุฑฺฉุฒ ุจุฑ ุฏูุช ู ุงุนุชุจุงุฑ ุชุณุช ูฺุฑูุง*

---

## ุถููู: ฺฉุฏ ุชุบุฑุงุช ฺฉูุฏ

ุชุบุฑุงุช ุงุตู ฺฉู ุฏุฑ `FE.py` ุงุนูุงู ุดุฏูุฏ:

1. **ุงูุฒุงุด n_actual ู n_null:**
```python
# ูุจู: n_actual=3, n_null=20
# ุจุนุฏ: n_actual=10, n_null=50
```

2. **ุงูุฒุงุด CV splits:**
```python
# ูุจู: n_splits=2
# ุจุนุฏ: n_splits=3
```

3. **ุงูุฒุงุด bootstrap:**
```python
# ูุจู: n_bootstrap=10
# ุจุนุฏ: n_bootstrap=20
```

4. **ุงูุฒุงุด ensemble runs:**
```python
# ูุจู: n_runs=3
# ุจุนุฏ: n_runs=5
```

5. **ุจูุจูุฏ regularization:**
```python
# ูุจู:
'lambda_l1': 0.1,
'lambda_l2': 0.1,
'max_depth': -1,

# ุจุนุฏ:
'lambda_l1': 0.3,
'lambda_l2': 0.3,
'max_depth': 6,
'path_smooth': 1.0,
'min_gain_to_split': 0.01,
```

ููู ุงู ุชุบุฑุงุช ูุณุชููุงู ุงุฒ ุชูุตูโูุง `md1.md` ฺฏุฑูุชู ุดุฏูโุงูุฏ.
